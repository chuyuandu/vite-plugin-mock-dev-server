
# 介绍

`vite-plugin-mock-dev-server` 专注于在 `Vite` 开发环境下 提供 Mock 服务。
通过 vite 内置的 `http` 和 `http-proxy` 服务，以 `middleware` 的方式，对 `server.proxy` 配置的代理路径
进行二次拦截，命中规则后，返回配置的 `mock data` 。

你可以使用在 mock配置文件中使用`node` 任意第三方模块。 这表示，你可以使用如 `mockjs` 等库帮助生成 `mock data`。

## 特性

- ⚡️ 轻量，灵活，快速
- 🧲 非注入式，对客户端代码无侵入
- 💡 ESModule/commonjs
- 🦾 Typescript
- 🏷 支持 json / json5 编写 mock 数据
- 📦 自动加载 mock 文件
- 🎨 可选择你喜欢的任意用于生成mock数据库，如 `mockjs`，或者不使用其他库
- 📥 路径规则匹配，请求参数匹配
- ⚙️ 随意开启或关闭对某个接口的 mock配置
- 🔥 热更新
- ⚖️ 使用 `server.proxy` 配置
- 🍕 支持在 mock文件中使用 `viteConfig.define`配置字段
- 📤 支持 multipart 类型，模拟文件上传

<!-- ## Why?

为前端项目在本地开发服务中，提供一个用于对后端未开发完但已有明确的文档的接口，进行mock，从而实现前后端并行开发，是一个非常必要的工程支持。

结合我在过去多年的开发经验，梳理了我认为的这个 mock-server 所必要的需求后，在开源社区中，没有找到符合我期望的相关工具，于是
就打算自己开发一个。

**对于一个 `mock-server`，我预期的必要实现：**

1. 配置简洁，同时也需要满足复杂场景的需求；
   - 对于一些简单的接口，可以直接通过简单的 `url+body`，写入固定的响应数据；
   - 对于复杂的需求，需要根据入参返回不同的数据的，提供 方法支持和开发能力；

2. 支持多种路径匹配规则
   - 支持静态路径匹配
   - 支持动态路径匹配，如 `/user/:userId` 并 解析 `userId` 到 `params` 放入 `request`
   - 支持 请求参数，请求头、请求体 解析

3. 支持任意接口mock配置的 开启/关闭
  
   在开发中，通常我们只需要对某几个请求接口进行mock，而不需要所有配置的mock接口都生效。所以mock能够随意开启/关闭
   是一个很重要的功能。

4. 支持热更新，监听 mock文件及其依赖的文件
5. 支持引入其他第三方库

在这些必要的功能的基础上，还需要能够支持：

- 自定义 响应 status、 header、body；
- 接口延迟响应
- 多种文件格式支持
- ESM/CJS 支持
 -->

